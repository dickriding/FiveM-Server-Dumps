<html>
    <head>
        <link href="css/hud.css" rel="stylesheet" type="text/css" />
		<link href="https://cdn.rsm.gg/fontawesome-pro-5.14.0-web/css/all.min.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div id="app" :class="[ { 'hidden': !enabled || !visible } ]" style="display: none;">
			<canvas id="rpmshow"
				data-type="radial-gauge"
				data-width="320"
				data-height="320"
				data-units=""
				data-title="false"
				data-min-value="0"
				data-max-value="9"
				:data-value="calculatedRPM"
				data-animate-on-init="true"
				data-major-ticks="0,1,2,3,4,5,6,7,8,9"
				data-minor-ticks="4"
				data-stroke-ticks="true"
				data-highlights='[{"from": 7.5, "to": 9, "color": "rgba(242,83,108,0.9)"}]'
				data-color-plate="rgba(0,0,0,0)"
				data-color-major-ticks="rgba(255,255,255,0.6)"
				data-color-minor-ticks="rgba(255,255,255,0.6)"
				data-color-title="#fff"
				data-color-units="rgba(255,255,255,0.6)"
				data-color-numbers="rgba(255,255,255,0.6)"
				data-color-needle="rgb(255,255,255)"
				data-color-needle-start="rgb(255,255,255)"
				data-color-needle-end="rgb(255,255,255)"
				data-value-box="false"
				data-animated-value="true"
				data-borders="false"
				data-border-shadow-width="0"
				data-needle-type="line"
				data-needle-width="2"
				data-needle-circle-size="0"
				data-needle-shadow="false"
				data-needle-circle-outer="true"
				data-needle-circle-inner="false"
				data-needle-start="25"
				data-color-needle-circle-outer="rgba(0,0,0,0)"
				data-color-needle-circle-inner="rgba(0,0,0,0)"
				data-animation-duration="2500"
				data-animation-rule="linear"
				data-ticks-angle="230"
				data-start-angle="30"
				data-ticks-width="5"
				data-ticks-width-minor="5"
				data-color-needle-shadow-down="rgba(0,0,0,0)"
				data-value-box-width="45"
				data-font-numbers="Oswald-Regular"
				data-font-value="Oswald-Regular"
			></canvas>
			<img src="images/speedcircle.png" class="speedcircle" />

			<div class="geardisplay" :style="gearStyle">
				<span>
					{{ gearDisplay }}
				</span>
			</div>

			<div class="speeddisplay">
				<span :class="[ 'int1', { 'gray': calculatedSpeed[0] == '0' } ]">{{ calculatedSpeed[0] }}</span>
				<span :class="[ 'int2', { 'gray': calculatedSpeed[1] == '0' && parseInt(calculatedSpeed.join('')) < 100 } ]">{{ calculatedSpeed[1] }}</span>
				<span :class="[ 'int3', { 'gray': calculatedSpeed[2] == '0' && parseInt(calculatedSpeed.join(''))  < 10 } ]">{{ calculatedSpeed[2] }}</span>
			</div>

			<div class="unitdisplay">
				{{ unitDisplay }}
			</div>

			<div v-if="manual" class="manual">
				MNL
			</div>

			<div class="abs">
				<span :class="[{ 'gray': !brake }]">ABS</span>
			</div>

			<div class="handbrake">
				<span :class="[{ 'gray': !handbrake }]">HBK</span>
			</div>

			<!--
				<div class="nos"><span class="gray">NOS</span></div>
				<div class="als"><span class="gray">ALS</span></div>
			-->

			<div v-for="(widget, index) in componentsTop" :class="[ 'widget', 'top', `state-${widget.state || 'default'}`, `pos-${index + 1}` ]" :key="`topc-${index}`">
				<span v-if="widget.icon">
					<i v-if="widget.icon" :class="[ 'widget-icon', widget.icon.type, widget.icon.class ]"></i>
				</span>

				<span v-else>
					{{ widget.name }}
				</span>
			</div>

			<div v-for="(widget, index) in componentsLeft" :class="[ 'widget', 'left', `size-${widget.size || 'md'}`, `pos-${index + 1}` ]" :key="`leftc-${index}`">
				<span>
					<i v-if="widget.icon" :class="[ 'widget-icon', widget.icon.type, widget.icon.class ]"></i>
					{{ widget.name }}
				</span>

				<div v-if="widget.value !== undefined" class="widget-value" :style="widget.valueStyle || false">
					{{ widget.value.toString() }}
				</div>
			</div>

			<div v-for="(bar, index) in visibleProgressBars" :class="[ 'progress-bar', `pos-${index + 1}` ]" :key="`pbar-${index}`">
				<div class="text">
					{{ bar.name }}
				</div>

				<div class="progress">
					<div class="bar" :style="`width: ${bar.value}%`"></div>
				</div>
			</div>

			<!--
				<div class="temperature"><span><i class="fad fa-temperature-low" style="padding-right: 3px;"></i> Engine Temp</span> <div id="temperature">N/A</div></div>
				<div class="oil"><span><i class="fad fa-oil-temp" style="padding-right: 3px;"></i> Engine Oil</span> <div id="oil">N/A</div></div>
				<div class="turbo"><span><i class="fab fa-empire" style="padding-right: 3px;"></i> Turbo</span> <div id="turbo">N/A</div></div>
			-->

        </div>

		<!-- development vue -->
		<!-- <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script> -->

		<!-- prod vue -->
		<script src="https://cdn.rsm.gg/packages/vue@2.7.14/dist/vue.min.js"></script>

        <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
		<script src="js/gauge.min.js"></script>
        <script src="js/hud.js" type="text/javascript"></script>
		<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
		<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
    </body>
	<script type="text/javascript">
	if (!Array.prototype.forEach) {
		Array.prototype.forEach = function(cb) {
			var i = 0, s = this.length;
			for (; i < s; i++) {
				cb && cb(this[i], i, this);
			}
		}
	}
	document.fonts && document.fonts.forEach(function(font) {
		font.loaded.then(function() {
			if (font.family.match(/Led/)) {
				document.gauges.forEach(function(gauge) {
					gauge.update();
					gauge.options.renderTo.style.visibility = 'visible';
				});
			}
		});
	});
	</script>
</html>